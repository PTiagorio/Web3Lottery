{"ast":null,"code":"var _jsxFileName = \"/Users/tiagoferreira/Desktop/web3-lottery/front-end/src/AdminScreen.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Popup from 'reactjs-popup';\nimport 'reactjs-popup/dist/index.css';\nimport { useEffect, useState } from \"react\";\nimport { lotteryContract, connectWallet, startLottery, changeTicketPrice, cancelLottery, retrySubmissionOfFounds, getCurrentWalletConnected } from \"./util/interact.js\";\nimport lottoLogo from \"./lottoLogo.svg\";\nimport { useNavigate, Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AdminScreen = () => {\n  _s();\n\n  //state variables\n  const [walletAddress, setWallet] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\n  const [message, setMessage] = useState(\"No connection to the network.\"); //default message\n\n  const [newPrice, setNewPrice] = useState(\"\");\n  const [numberOfDays, setNumberOfDays] = useState(\"\"); //called only once\n\n  useEffect(() => {\n    addSmartContractListener();\n\n    async function fetchWallet() {\n      const {\n        address,\n        status\n      } = await getCurrentWalletConnected();\n      setWallet(address);\n      setStatus(status);\n    }\n\n    fetchWallet();\n    addWalletListener();\n  }, []);\n  const navigate = useNavigate();\n\n  function addSmartContractListener() {//TODO: implement\n  }\n\n  function addWalletListener() {\n    if (window.ethereum) {\n      window.ethereum.on(\"accountsChanged\", accounts => {\n        if (accounts.length > 0) {\n          setWallet(accounts[0]);\n        } else {\n          setWallet(\"\");\n        }\n      });\n    } else {\n      setStatus( /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" \", \"\\uD83E\\uDD8A\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n          target: \"_blank\",\n          href: `https://metamask.io/download`,\n          children: \"You must install Metamask, a virtual Ethereum wallet, in your browser.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this));\n    }\n  }\n\n  const connectWalletPressed = async () => {\n    const walletResponse = await connectWallet();\n    setStatus(walletResponse.status);\n    setWallet(walletResponse.address);\n  };\n\n  const onUpdatePressed = async () => {//TODO: implement\n  };\n\n  const onStartLotteryPressed = async () => {\n    await startLottery(walletAddress, numberOfDays, newPrice);\n    fetchLottery();\n  };\n\n  const onWithdrawFeesPressed = async () => {\n    await withdrawFees(walletAddress);\n    fetchLottery();\n  };\n\n  const onChangeTicketPricePressed = async () => {\n    await changeTicketPrice(walletAddress, newPrice);\n    fetchLottery();\n  };\n\n  const onCancelLotteryPressed = async () => {\n    await cancelLottery(walletAddress);\n    fetchLottery();\n  };\n\n  const onRetrySubmissionOfFoundsPressed = async () => {\n    await retrySubmissionOfFounds(walletAddress);\n    fetchLottery();\n  }; //the UI of our component\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        id: \"logo\",\n        src: lottoLogo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"walletButton\",\n      onClick: connectWalletPressed,\n      children: walletAddress.length > 0 ? \"Connected: \" + String(walletAddress).substring(0, 6) + \"...\" + String(walletAddress).substring(38) : /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Connect Wallet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"block\",\n      children: [/*#__PURE__*/_jsxDEV(Popup, {\n        trigger: /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"startLottery\",\n          className: \"button\",\n          children: \"Start New Lottery \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this),\n        modal: true,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"middleDiv\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"itemInTheMiddle\",\n            type: \"number\",\n            placeholder: \"Insert number of days.\",\n            onChange: e => setNumberOfDays(e.target.value),\n            value: numberOfDays\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"middleDiv\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"itemInTheMiddle\",\n            type: \"number\",\n            placeholder: \"Insert tickets price in Wei.\",\n            onChange: e => setNewPrice(e.target.value),\n            value: newPrice\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"middleDiv\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"startLottery\",\n            className: \"itemInTheMiddle\",\n            onClick: onStartLotteryPressed,\n            children: \"Start Lottery\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"withdrawFees\",\n        className: \"buttonRight\",\n        onClick: onWithdrawFeesPressed,\n        children: \"Withdraw Fees\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"middleDiv\",\n      children: /*#__PURE__*/_jsxDEV(Popup, {\n        trigger: /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"changeTicketPrice\",\n          className: \"buttonSalmon itemInTheMiddle\",\n          children: \"Change Ticket Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this),\n        modal: true,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"middleDiv\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"itemInTheMiddle\",\n            type: \"number\",\n            placeholder: \"Insert new price in Wei.\",\n            onChange: e => setNewPrice(e.target.value),\n            value: newPrice\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"middleDiv\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"updatePrice\",\n            className: \"itemInTheMiddle\",\n            onClick: onChangeTicketPricePressed,\n            children: \"Update Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"cancelLottery\",\n        className: \"buttonRed\",\n        onClick: onCancelLotteryPressed,\n        children: \"Cancel Lottery\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"retrySubmissionOfFounds\",\n        className: \"buttonRight buttonRed\",\n        onClick: onRetrySubmissionOfFoundsPressed,\n        children: \"Retry Submission of Founds\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AdminScreen, \"EdeRe1oBEk7ZI966AGxiZGId1bs=\", false, function () {\n  return [useNavigate];\n});\n\n_c = AdminScreen;\nexport default AdminScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminScreen\");","map":{"version":3,"sources":["/Users/tiagoferreira/Desktop/web3-lottery/front-end/src/AdminScreen.js"],"names":["React","Popup","useEffect","useState","lotteryContract","connectWallet","startLottery","changeTicketPrice","cancelLottery","retrySubmissionOfFounds","getCurrentWalletConnected","useNavigate","Link","AdminScreen","walletAddress","setWallet","status","setStatus","message","setMessage","newPrice","setNewPrice","numberOfDays","setNumberOfDays","addSmartContractListener","fetchWallet","address","addWalletListener","navigate","window","ethereum","on","accounts","length","connectWalletPressed","walletResponse","onUpdatePressed","onStartLotteryPressed","fetchLottery","onWithdrawFeesPressed","withdrawFees","onChangeTicketPricePressed","onCancelLotteryPressed","onRetrySubmissionOfFoundsPressed","lottoLogo","String","substring","e","target","value"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Popup from 'reactjs-popup';\nimport 'reactjs-popup/dist/index.css';\nimport { useEffect, useState } from \"react\";\nimport {\n  lotteryContract,\n  connectWallet,\n  startLottery,\n  changeTicketPrice,\n  cancelLottery,\n  retrySubmissionOfFounds,\n\n  getCurrentWalletConnected,\n} from \"./util/interact.js\";\n\nimport lottoLogo from \"./lottoLogo.svg\";\n\nimport { useNavigate, Link } from 'react-router-dom';\n\nconst AdminScreen = () => {\n  //state variables\n  const [walletAddress, setWallet] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\n  const [message, setMessage] = useState(\"No connection to the network.\"); //default message\n  const [newPrice, setNewPrice] = useState(\"\");\n  const [numberOfDays, setNumberOfDays] = useState(\"\");\n\n  //called only once\n  useEffect(() => {\n    addSmartContractListener();\n  \n    async function fetchWallet() {\n      const {address, status} = await getCurrentWalletConnected();\n      setWallet(address)\n      setStatus(status); \n    }\n    fetchWallet();\n    addWalletListener(); \n  }, []);\n\n  const navigate = useNavigate();\n\n  function addSmartContractListener() { //TODO: implement\n    \n  }\n\n  function addWalletListener() {\n    if (window.ethereum) {\n      window.ethereum.on(\"accountsChanged\", (accounts) => {\n        if (accounts.length > 0) {\n          setWallet(accounts[0]);\n        } else {\n          setWallet(\"\");\n        }\n      });\n    } else {\n      setStatus(\n        <p>\n          {\" \"}\n          ðŸ¦Š{\" \"}\n          <a target=\"_blank\" href={`https://metamask.io/download`}>\n            You must install Metamask, a virtual Ethereum wallet, in your\n            browser.\n          </a>\n        </p>\n      );\n    }\n  }\n\n  const connectWalletPressed = async () => {\n    const walletResponse = await connectWallet();\n    setStatus(walletResponse.status);\n    setWallet(walletResponse.address);\n  };\n\n  const onUpdatePressed = async () => { //TODO: implement\n    \n  };\n  \n  const onStartLotteryPressed = async () => {\n    await startLottery(walletAddress, numberOfDays, newPrice);\n    fetchLottery();\n  };\n\n  const onWithdrawFeesPressed = async () => {\n    await withdrawFees(walletAddress);\n    fetchLottery();\n  };\n\n  const onChangeTicketPricePressed = async () => {\n    await changeTicketPrice(walletAddress, newPrice);\n    fetchLottery();\n  };\n\n  const onCancelLotteryPressed = async () => {\n    await cancelLottery(walletAddress);\n    fetchLottery();\n  };\n\n  const onRetrySubmissionOfFoundsPressed = async () => {\n    await retrySubmissionOfFounds(walletAddress);\n    fetchLottery();\n  };\n\n  //the UI of our component\n  return (\n    <div id=\"container\">\n      <Link to=\"/\">\n        <img id=\"logo\" src={lottoLogo}></img>\n      </Link>\n      <button id=\"walletButton\" onClick={connectWalletPressed}>\n        {walletAddress.length > 0 ? (\n          \"Connected: \" +\n          String(walletAddress).substring(0, 6) +\n          \"...\" +\n          String(walletAddress).substring(38)\n        ) : (\n          <span>Connect Wallet</span>\n        )}\n      </button>\n\n      <div className=\"block\">\n        <Popup trigger={\n          <button id=\"startLottery\" className=\"button\">\n            Start New Lottery </button>\n        } modal>\n          <div className=\"middleDiv\">\n            <input\n              className=\"itemInTheMiddle\"\n              type=\"number\"\n              placeholder=\"Insert number of days.\"\n              onChange={(e) => setNumberOfDays(e.target.value)}\n              value={numberOfDays}\n            />\n          </div>\n          <div className=\"middleDiv\">\n            <input\n              className=\"itemInTheMiddle\"\n              type=\"number\"\n              placeholder=\"Insert tickets price in Wei.\"\n              onChange={(e) => setNewPrice(e.target.value)}\n              value={newPrice}\n            />\n          </div>\n          <div className=\"middleDiv\">\n            <button id=\"startLottery\" className=\"itemInTheMiddle\" onClick={onStartLotteryPressed}>\n              Start Lottery\n            </button>\n          </div>\n        </Popup>\n\n        <button id=\"withdrawFees\" className=\"buttonRight\" onClick={onWithdrawFeesPressed}>\n          Withdraw Fees\n        </button>\n      </div>\n\n      <div className=\"middleDiv\">\n        <Popup trigger={\n          <button id=\"changeTicketPrice\" className=\"buttonSalmon itemInTheMiddle\">\n            Change Ticket Price \n          </button>\n        } modal>\n            <div className=\"middleDiv\">\n              <input\n                className=\"itemInTheMiddle\"\n                type=\"number\"\n                placeholder=\"Insert new price in Wei.\"\n                onChange={(e) => setNewPrice(e.target.value)}\n                value={newPrice}\n              />\n            </div>\n            <div className=\"middleDiv\">\n              <button id=\"updatePrice\" className=\"itemInTheMiddle\" onClick={onChangeTicketPricePressed}>\n                Update Price\n              </button>\n            </div>\n        </Popup>\n      </div>\n\n      <div>\n        <button id=\"cancelLottery\" className=\"buttonRed\" onClick={onCancelLotteryPressed}>\n            Cancel Lottery\n        </button>\n\n        <button id=\"retrySubmissionOfFounds\" className=\"buttonRight buttonRed\" onClick={onRetrySubmissionOfFoundsPressed}>\n            Retry Submission of Founds\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminScreen;"]},"metadata":{},"sourceType":"module"}